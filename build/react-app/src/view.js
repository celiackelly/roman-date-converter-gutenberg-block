!function(){"use strict";var e=window.wp.element;function a(a){let{title:t,className:n,children:l}=a;return(0,e.createElement)("section",{className:n+" card"},(0,e.createElement)("h2",null,t),l)}function t(e){const a={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};let t="";for(let n in a){const l=Math.floor(e/a[n]);if(0!==l&&(t+=n.repeat(l)),0==(e%=a[n]))return t}return t}function n(e){return e%4==0&&(e%100!=0||e%400==0)}function l(e,a,t,n){return a=Number(a),e=Number(e),"A.D. / C.E."!==n&&(t>753||!(t<753)&&(753===t?a<4||!(a>4)&&e<21:void 0))}function r(e){const{day:a,displayYear:l,era:r,month:o,year:i,yearDisplayOption:c}=e,u=function(e,a,l){const r={1:{acc:"Ianuarias",abl:"Ianuariis"},2:{acc:"Februarias",abl:"Februariis"},3:{acc:"Martias",abl:"Martiis"},4:{acc:"Apriles",abl:"Aprilibus"},5:{acc:"Maias",abl:"Maiis"},6:{acc:"Iunias",abl:"Iuniis"},7:{acc:"Iulias",abl:"Iuliis"},8:{acc:"Augustas",abl:"Augustis"},9:{acc:"Septembres",abl:"Septembribus"},10:{acc:"Octobres",abl:"Octobribus"},11:{acc:"Novembres",abl:"Novembribus"},12:{acc:"Decembres",abl:"Decembribus"}},o=function(e,a,t){const l={};switch(a){case 3:case 5:case 7:case 10:l.ides=15,l.nones=7;break;default:l.ides=13,l.nones=5}switch(a){case 4:case 6:case 9:case 11:l.kalends=31;break;case 2:l.kalends=n(t)&&e>24?30:29;break;default:l.kalends=32}return l}(e,a,l);let i;switch(e){case 1:i=`Kalendis ${r[a].abl}`;break;case o.nones:i=`Nonis ${r[a].abl}`;break;case o.ides:i=`Idibus ${r[a].abl}`;break;default:let c;if(e<o.nones?(c=o.nones-e+1,i=`Nonas ${r[a].acc}`):e<o.ides?(c=o.ides-e+1,i=`Idus ${r[a].acc}`):(c=o.kalends-e+1,i=`Kalendas ${r[12===a?1:a+1].acc}`),2===c)i=`pridie ${i}`;else{const a=t(c).toLowerCase();i=`ante diem ${n(l)&&25===e?"bis ":""}${a} ${i}`}}return i}(a,o,i),s=l?function(e,a,n){let l;return"AUCNotation"===n&&("A.D. / C.E."===a?e+=753:e=754-e,l="ab urbe condita"),"secularNotation"===n&&(l="B.C. / B.C.E."===a?"ante aeram vulgarem":"aerae vulgaris"),"christianNotation"===n&&(l="B.C. / B.C.E."===a?"ante Christum natum":"post Christum natum"),`anno ${t(e)} ${l}`}(i,r,c):"";return{romanDate:u,formattedYear:s}}function o(a){let{month:t,day:l,year:r,handleMonthChange:o,handleDayChange:i,handleYearChange:c,era:u,handleEraChange:s}=a;const m=Array.from({length:function(){let e=31;return 4!==t&&6!==t&&9!==t&&11!==t||(e=30),2===t&&(e=n(r)?29:28),e}()},((a,t)=>(0,e.createElement)("option",{key:t+1,value:t+1},t+1)));return(0,e.createElement)("fieldset",null,(0,e.createElement)("label",null,(0,e.createElement)("span",{className:"sr-only"},"Month"),(0,e.createElement)("select",{name:"month",value:t,onChange:o},(0,e.createElement)("option",{value:"1"},"January"),(0,e.createElement)("option",{value:"2"},"February"),(0,e.createElement)("option",{value:"3"},"March"),(0,e.createElement)("option",{value:"4"},"April"),(0,e.createElement)("option",{value:"5"},"May"),(0,e.createElement)("option",{value:"6"},"June"),(0,e.createElement)("option",{value:"7"},"July"),(0,e.createElement)("option",{value:"8"},"August"),(0,e.createElement)("option",{value:"9"},"September"),(0,e.createElement)("option",{value:"10"},"October"),(0,e.createElement)("option",{value:"11"},"November"),(0,e.createElement)("option",{value:"12"},"December"))),(0,e.createElement)("label",null,(0,e.createElement)("span",{className:"sr-only"},"Day"),(0,e.createElement)("select",{name:"day",value:l,onChange:i},m)),(0,e.createElement)("label",null,(0,e.createElement)("span",{className:"sr-only"},"Year"),(0,e.createElement)("input",{name:"year",type:"number",min:"1",max:"3999",step:"1",value:r,onChange:c})),(0,e.createElement)("label",null,(0,e.createElement)("span",{className:"sr-only"},"Era"),(0,e.createElement)("select",{name:"era",value:u,onChange:s},(0,e.createElement)("option",{value:"A.D. / C.E."},"A.D. / C.E."),(0,e.createElement)("option",{value:"B.C. / B.C.E."},"B.C. / B.C.E."))))}function i(a){let{isBeforeRomeFounded:t,isDisplayYearChecked:n,handleDisplayYearChange:l,yearDisplayOption:r,handleYearDisplayOptionChange:o}=a;const i=(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",null,(0,e.createElement)("input",{required:!0,type:"radio",name:"yearDisplayOption",value:"secularNotation",checked:"secularNotation"===r,onChange:o}),"display year in secular notation"),(0,e.createElement)("label",null,(0,e.createElement)("input",{required:!0,type:"radio",name:"yearDisplayOption",value:"christianNotation",checked:"christianNotation"===r,onChange:o}),"display year in Christian notation"),(0,e.createElement)("label",null,(0,e.createElement)("input",{required:!0,type:"radio",name:"yearDisplayOption",value:"AUCNotation",checked:"AUCNotation"===r,onChange:o,disabled:t||!n}),"display year ",(0,e.createElement)("span",{className:"italics"},"ab urbe condita")));return(0,e.createElement)("fieldset",{className:"options-fieldset"},(0,e.createElement)("label",null,(0,e.createElement)("input",{type:"checkbox",name:"displayYear",onChange:l,checked:n}),"display year"),n?i:null)}function c(a){let{type:t,buttonText:n,onClick:l}=a;return(0,e.createElement)("button",{type:t,onClick:l},n)}function u(t){let{month:n,handleMonthChange:l,day:r,handleDayChange:u,year:s,handleYearChange:m,era:d,handleEraChange:p,isBeforeRomeFounded:h,isDisplayYearChecked:y,handleDisplayYearChange:b,yearDisplayOption:E,handleYearDisplayOptionChange:C,handleSubmit:g}=t;return(0,e.createElement)(a,{className:"form-card",title:"Find the Roman date for:"},(0,e.createElement)("form",{method:"post",onSubmit:g},(0,e.createElement)(o,{month:n,handleMonthChange:l,day:r,handleDayChange:u,year:s,handleYearChange:m,era:d,handleEraChange:p}),(0,e.createElement)(i,{isBeforeRomeFounded:h,isDisplayYearChecked:y,handleDisplayYearChange:b,yearDisplayOption:E,handleYearDisplayOptionChange:C}),(0,e.createElement)("div",{className:"btn-group"},(0,e.createElement)(c,{type:"submit",buttonText:"Submit"}))))}function s(t){let{romanDate:n,formattedYear:l,changeOptions:r,handleConvertAnotherDate:o}=t;const[i,u]=(0,e.useState)(!1);let s=i?function(e){let a=e;return a=a.replace("ante diem","a.d."),a=a.replace(/(prid|Kal|Id|Non|Ian|Feb|Mart|Apr|Aug|Sept|Oct|Nov|Dec)\w+/g,"$1."),a}(n):n,m=i?function(e){let a=e;return a=a.replace("ab urbe condita","A.U.C."),a=a.replace("ante aeram vulgarem","ante aer. vulg."),a=a.replace("aerae vulgaris","aer. vulg."),a=a.replace("ante Christum natum","a.C.n."),a=a.replace("post Christum natum","p.C.n."),a}(l):l;return(0,e.createElement)(a,{className:"results-card",title:"Roman date:"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,s),(0,e.createElement)("p",null,m)),(0,e.createElement)("div",null,(0,e.createElement)("label",null,(0,e.createElement)("input",{type:"checkbox",name:"abbreviated",onChange:e=>u(!i)}),"display abbreviated date")),(0,e.createElement)("div",{className:"btn-group"},(0,e.createElement)(c,{type:"button",buttonText:"Change options",onClick:r}),(0,e.createElement)(c,{type:"button",buttonText:"Convert another date",onClick:o})))}function m(){const a=new Date,[t,n]=(0,e.useState)(a.getMonth()+1),[o,i]=(0,e.useState)(a.getDate()),[c,m]=(0,e.useState)(a.getFullYear()),[d,p]=(0,e.useState)("A.D. / C.E."),[h,y]=(0,e.useState)(!0),[b,E]=(0,e.useState)("secularNotation"),[C,g]=(0,e.useState)(!1),[f,v]=(0,e.useState)(null),{romanDate:D,formattedYear:N}=f?r(f):{romanDate:null,formattedYear:null};return C?(0,e.createElement)(s,{romanDate:D,formattedYear:N,changeOptions:function(){i(f.day),n(f.month),m(f.year),p(f.era),y(f.displayYear),E(f.yearDisplayOption),g(!1)},handleConvertAnotherDate:function(){g(!1),i(a.getDate()),n(a.getMonth()+1),m(a.getFullYear()),p("A.D. / C.E."),y(!0),E(null),v(null)}}):(0,e.createElement)(u,{month:t,handleMonthChange:function(e){l(o,e.target.value,c,d)&&E(null),n(Number(e.target.value))},day:o,handleDayChange:function(e){l(e.target.value,t,c,d)&&E(null),i(Number(e.target.value))},year:c,handleYearChange:function(e){l(o,t,e.target.value,d)&&E(null),m(Number(e.target.value))},era:d,handleEraChange:function(e){l(o,t,c,e.target.value)&&E(null),p(e.target.value)},isBeforeRomeFounded:l(o,t,c,d),isDisplayYearChecked:h,handleDisplayYearChange:function(e){e.target.checked||E(null),l(o,t,c,d)&&E(null),y(!h)},yearDisplayOption:b,handleYearDisplayOptionChange:function(e){E(e.target.value)},handleSubmit:function(e){e.preventDefault();const a=new FormData(e.target);v(function(e){const a={...Object.fromEntries(e.entries())};return a.day=Number(a.day),a.month=Number(a.month),a.year=Number(a.year),a.displayYear?a.displayYear=!0:a.displayYear=!1,a.yearDisplayOption||(a.yearDisplayOption=null),a}(a)),g(!0)}})}function d(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(m,null))}addEventListener("DOMContentLoaded",(a=>{const t=document.getElementById("react-app"),n=(0,e.createElement)(d);e.createRoot?(0,e.createRoot)(t).render(n):(0,e.render)(n,t)}))}();